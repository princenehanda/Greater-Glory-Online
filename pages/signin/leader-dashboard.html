<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leader Dashboard - Greater Glory Ministries</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

<header class="header">
    <nav class="navbar">
        <a href="../../index.html" class="logo">
            <img src="../../assets/logo.png" alt="Greater Glory Ministries Logo">
            <span class="logo-text">Greater Glory Ministries</span>
        </a>
        <ul class="nav-links">
            <li class="nav-item has-dropdown">
                <a href="../About.html">About Us</a>
                <ul class="dropdown">
                    <li><a href="../About.html#vision">Vision</a></li>
                    <li><a href="../About.html#mission">Mission</a></li>
                    <li><a href="../About.html#our-dna">Our DNA</a></li>
                    <li><a href="../About.html#what-we-believe">What We Believe</a></li>
                    <li><a href="../About.html#visionary">Visionary</a></li>
                </ul>
            </li>
            <li class="nav-item has-dropdown member-only">
                <a href="../ministries.html">Ministries</a>
                <ul class="dropdown">
                    <li><a href="../ministries.html#daughters">Daughters of Destiny</a></li>
                    <li><a href="../ministries.html#men">Men of Valour</a></li>
                    <li><a href="../ministries.html#impact">Impact Generation</a></li>
                    <li><a href="../ministries.html#haven">Haven</a></li>
                </ul>
            </li>
            <li class="nav-item has-dropdown member-only">
                <a href="../partner.html">Partner</a>
                <ul class="dropdown">
                    <li><a href="../partner.html">Partner with Us</a></li>
                </ul>
            </li>
            <li class="nav-item has-dropdown member-only">
                <a href="../serve.html">Serve</a>
                <ul class="dropdown">
                    <li><a href="../serve.html">Serve with Us</a></li>
                </ul>
            </li>
            <li class="nav-item media-link">
                <a href="../media.html">Media</a>
            </li>
            <li class="nav-item cta-give"><a href="../give.html">Give</a></li>
            
            <li class="nav-item leader-only"><a href="leader-dashboard.html">Leader Portal</a></li>
            <li class="nav-item admin-only" style="display: none;"><a href="admin-dashboard.html">Admin Portal</a></li>
            <li class="nav-item pastor-only" style="display: none;"><a href="Pastor-dashboard.html">Pastor Portal</a></li>

            <li class="nav-item auth-action" style="display: none;"><a href="#" id="logoutBtn">Logout</a></li>
        </ul>
        <div class="hamburger">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </div>
    </nav>
</header>

<main class="section dashboard-main">
    <div class="dashboard-header">
        <div class="welcome-section">
            <h1 class="page-title">Leader Dashboard</h1>
            <p class="greeting">Welcome back, <span id="leaderName">Leader</span>! üåü</p>
            <p class="section-description">Manage your cell group, track member progress, and access exclusive leader resources.</p>
        </div>
        <div class="leader-badge">
            <i class="fas fa-crown"></i>
            <span>Cell Leader</span>
        </div>
    </div>

    <div class="dashboard-grid">
        <!-- Leadership Overview Stats -->
        <div class="dashboard-card stats-card leadership-stats">
            <h3><i class="fas fa-chart-line"></i> Your Leadership Overview</h3>
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-number" id="cellMemberCount">12</div>
                    <div class="stat-label">Cell Members</div>
                    <div class="stat-trend positive">+2 this month</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="attendanceRate">85%</div>
                    <div class="stat-label">Attendance Rate</div>
                    <div class="stat-trend positive">+5% from last month</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="activeMeeting">23</div>
                    <div class="stat-label">Meetings Led</div>
                    <div class="stat-trend">This year</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="leadershipMonths">18</div>
                    <div class="stat-label">Months Leading</div>
                    <div class="stat-trend">Experience</div>
                </div>
            </div>
        </div>

        <!-- My Cell Group Management -->
        <div class="dashboard-card cell-management-card">
            <h3><i class="fas fa-users"></i> My Cell Group - <span id="cellName">Cell Alpha</span></h3>
            <div class="cell-management-content">
                <div class="cell-info-summary">
                    <div class="info-item">
                        <i class="fas fa-map-marker-alt"></i>
                        <span><strong>Location:</strong> Highlands Community Center</span>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-calendar-alt"></i>
                        <span><strong>Meeting Day:</strong> Every Tuesday, 6:00 PM</span>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-phone"></i>
                        <span><strong>Contact:</strong> +263 77 123 4567</span>
                    </div>
                </div>
                <div class="cell-actions">
                    <button class="btn btn-primary" onclick="scheduleNewMeeting()">
                        <i class="fas fa-plus"></i> Schedule Meeting
                    </button>
                    <button class="btn btn-outline" onclick="viewCellMembers()">
                        <i class="fas fa-list"></i> View Members
                    </button>
                    <button class="btn btn-secondary" onclick="sendCellMessage()">
                        <i class="fas fa-envelope"></i> Send Message
                    </button>
                </div>
            </div>
        </div>

        <!-- Cell Members List -->
        <div class="dashboard-card members-card">
            <h3><i class="fas fa-user-friends"></i> Cell Members</h3>
            <div class="members-list">
                <div class="member-item">
                    <div class="member-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="member-details">
                        <h4>John Member</h4>
                        <p>Active Member ‚Ä¢ Joined 4 months ago</p>
                        <div class="member-stats">
                            <span class="attendance-badge good">90% Attendance</span>
                            <span class="ministry-badge">Choir Ministry</span>
                        </div>
                    </div>
                    <div class="member-actions">
                        <button class="action-btn" title="Contact Member" onclick="contactMember('John Member')">
                            <i class="fas fa-phone"></i>
                        </button>
                        <button class="action-btn" title="View Profile" onclick="viewMemberProfile('John Member')">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>

                <div class="member-item">
                    <div class="member-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="member-details">
                        <h4>Sarah Johnson</h4>
                        <p>New Member ‚Ä¢ Joined 2 weeks ago</p>
                        <div class="member-stats">
                            <span class="attendance-badge new">New Member</span>
                            <span class="ministry-badge">Youth Ministry</span>
                        </div>
                    </div>
                    <div class="member-actions">
                        <button class="action-btn" title="Contact Member" onclick="contactMember('Sarah Johnson')">
                            <i class="fas fa-phone"></i>
                        </button>
                        <button class="action-btn" title="View Profile" onclick="viewMemberProfile('Sarah Johnson')">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>

                <div class="member-item">
                    <div class="member-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="member-details">
                        <h4>David Brown</h4>
                        <p>Regular Member ‚Ä¢ Joined 8 months ago</p>
                        <div class="member-stats">
                            <span class="attendance-badge average">75% Attendance</span>
                            <span class="ministry-badge">Ushering</span>
                        </div>
                    </div>
                    <div class="member-actions">
                        <button class="action-btn" title="Contact Member" onclick="contactMember('David Brown')">
                            <i class="fas fa-phone"></i>
                        </button>
                        <button class="action-btn" title="View Profile" onclick="viewMemberProfile('David Brown')">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
            </div>
            <button class="btn btn-outline full-width" onclick="viewAllMembers()">
                <i class="fas fa-users"></i> View All 12 Members
            </button>
        </div>

        <!-- Meeting Management -->
        <div class="dashboard-card meetings-card">
            <h3><i class="fas fa-calendar-check"></i> Meeting Management</h3>
            <div class="meetings-content">
                <div class="next-meeting">
                    <h4>Next Meeting</h4>
                    <div class="meeting-details">
                        <div class="meeting-date">
                            <div class="day">27</div>
                            <div class="month">AUG</div>
                        </div>
                        <div class="meeting-info">
                            <h5>Weekly Cell Meeting</h5>
                            <p><i class="fas fa-clock"></i> Tuesday, 6:00 PM</p>
                            <p><i class="fas fa-map-marker-alt"></i> Highlands Community Center</p>
                            <p><i class="fas fa-book"></i> Topic: "Walking in Faith"</p>
                        </div>
                    </div>
                    <div class="meeting-actions">
                        <button class="btn btn-primary" onclick="startMeeting()">
                            <i class="fas fa-play"></i> Start Meeting
                        </button>
                        <button class="btn btn-outline" onclick="editMeeting()">
                            <i class="fas fa-edit"></i> Edit
                        </button>
                    </div>
                </div>

                <div class="recent-meetings">
                    <h4>Recent Meetings</h4>
                    <div class="meeting-history">
                        <div class="history-item">
                            <div class="history-date">Aug 20</div>
                            <div class="history-details">
                                <h5>Faith & Works</h5>
                                <p>10 members attended</p>
                            </div>
                            <div class="history-status success">
                                <i class="fas fa-check"></i>
                            </div>
                        </div>
                        <div class="history-item">
                            <div class="history-date">Aug 13</div>
                            <div class="history-details">
                                <h5>God's Love</h5>
                                <p>12 members attended</p>
                            </div>
                            <div class="history-status success">
                                <i class="fas fa-check"></i>
                            </div>
                        </div>
                        <div class="history-item">
                            <div class="history-date">Aug 6</div>
                            <div class="history-details">
                                <h5>Prayer Power</h5>
                                <p>9 members attended</p>
                            </div>
                            <div class="history-status success">
                                <i class="fas fa-check"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Leader Resources (Exclusive) -->
        <div class="dashboard-card resources-card leader-exclusive">
            <div class="exclusive-badge">
                <i class="fas fa-crown"></i>
                LEADER EXCLUSIVE
            </div>
            <h3><i class="fas fa-book-open"></i> Leader Resources</h3>
            <div class="resources-grid">
                <div class="resource-item" onclick="openResource('study-guides')">
                    <i class="fas fa-bookmark"></i>
                    <h4>Study Guides</h4>
                    <p>Weekly lesson plans and discussion guides</p>
                    <span class="resource-badge new">3 New</span>
                </div>
                <div class="resource-item" onclick="openResource('training-materials')">
                    <i class="fas fa-chalkboard-teacher"></i>
                    <h4>Training Materials</h4>
                    <p>Leadership development courses</p>
                    <span class="resource-badge">Available</span>
                </div>
                <div class="resource-item" onclick="openResource('pastoral-support')">
                    <i class="fas fa-praying-hands"></i>
                    <h4>Pastoral Support</h4>
                    <p>Counseling guidelines and support</p>
                    <span class="resource-badge">24/7</span>
                </div>
                <div class="resource-item" onclick="openResource('member-care')">
                    <i class="fas fa-heart"></i>
                    <h4>Member Care</h4>
                    <p>Tools for pastoral care and follow-up</p>
                    <span class="resource-badge">Updated</span>
                </div>
            </div>
        </div>

        <!-- Prayer Requests & Pastoral Care -->
        <div class="dashboard-card prayer-care-card">
            <h3><i class="fas fa-hands-helping"></i> Prayer & Pastoral Care</h3>
            <div class="care-content">
                <div class="prayer-requests-summary">
                    <h4>Recent Prayer Requests</h4>
                    <div class="prayer-list">
                        <div class="prayer-item urgent">
                            <div class="prayer-icon urgent">
                                <i class="fas fa-exclamation"></i>
                            </div>
                            <div class="prayer-details">
                                <h5>John Member - Health Issue</h5>
                                <p>Requesting prayers for upcoming surgery</p>
                                <small>Submitted 2 days ago</small>
                            </div>
                            <button class="care-action" onclick="provideCare('John Member', 'health')">
                                <i class="fas fa-heart"></i>
                            </button>
                        </div>
                        <div class="prayer-item">
                            <div class="prayer-icon">
                                <i class="fas fa-briefcase"></i>
                            </div>
                            <div class="prayer-details">
                                <h5>Sarah Johnson - Job Search</h5>
                                <p>Seeking employment opportunities</p>
                                <small>Submitted 5 days ago</small>
                            </div>
                            <button class="care-action" onclick="provideCare('Sarah Johnson', 'employment')">
                                <i class="fas fa-heart"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="care-actions">
                    <button class="btn btn-primary" onclick="viewAllPrayerRequests()">
                        <i class="fas fa-list"></i> View All Requests
                    </button>
                    <button class="btn btn-outline" onclick="schedulePastoralVisit()">
                        <i class="fas fa-home"></i> Schedule Visit
                    </button>
                </div>
            </div>
        </div>

        <!-- Quick Actions for Leaders -->
        <div class="dashboard-card leader-actions-card">
            <h3><i class="fas fa-lightning-bolt"></i> Leader Quick Actions</h3>
            <div class="leader-actions-grid">
                <button class="leader-action-btn" onclick="createStudyPlan()">
                    <i class="fas fa-calendar-plus"></i>
                    <span>Create Study Plan</span>
                </button>
                <button class="leader-action-btn" onclick="sendCellReminder()">
                    <i class="fas fa-bell"></i>
                    <span>Send Reminders</span>
                </button>
                <button class="leader-action-btn" onclick="generateReport()">
                    <i class="fas fa-chart-bar"></i>
                    <span>Generate Report</span>
                </button>
                <button class="leader-action-btn" onclick="requestPrayerSupport()">
                    <i class="fas fa-praying-hands"></i>
                    <span>Request Prayer</span>
                </button>
                <button class="leader-action-btn" onclick="inviteNewMember()">
                    <i class="fas fa-user-plus"></i>
                    <span>Invite Member</span>
                </button>
                <button class="leader-action-btn" onclick="accessTraining()">
                    <i class="fas fa-graduation-cap"></i>
                    <span>Training Hub</span>
                </button>
            </div>
        </div>

        <!-- Announcements & Updates -->
        <div class="dashboard-card announcements-card">
            <h3><i class="fas fa-bullhorn"></i> Leader Updates & Announcements</h3>
            <div class="announcement-list">
                <div class="announcement-item priority">
                    <div class="announcement-header">
                        <h4>Monthly Leaders Meeting</h4>
                        <span class="priority-badge">High Priority</span>
                    </div>
                    <p>All cell leaders are required to attend the monthly coordination meeting on Saturday, August 31st at 2:00 PM.</p>
                    <div class="announcement-meta">
                        <small>Posted by Pastor Johnson ‚Ä¢ 1 day ago</small>
                        <button class="btn-link" onclick="respondToAnnouncement('leaders-meeting')">Respond</button>
                    </div>
                </div>
                
                <div class="announcement-item">
                    <div class="announcement-header">
                        <h4>New Study Materials Available</h4>
                        <span class="update-badge">New Content</span>
                    </div>
                    <p>Fresh study guides for September covering "Building Strong Families" are now available in your leader resources.</p>
                    <div class="announcement-meta">
                        <small>Posted by Admin Team ‚Ä¢ 3 days ago</small>
                        <button class="btn-link" onclick="viewNewMaterials()">View Materials</button>
                    </div>
                </div>

                <div class="announcement-item">
                    <div class="announcement-header">
                        <h4>Leadership Training Workshop</h4>
                        <span class="event-badge">Upcoming Event</span>
                    </div>
                    <p>Advanced leadership skills workshop scheduled for September 15th. Registration deadline: September 1st.</p>
                    <div class="announcement-meta">
                        <small>Posted by Training Team ‚Ä¢ 1 week ago</small>
                        <button class="btn-link" onclick="registerForTraining()">Register Now</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<!-- Meeting Management Modal -->
<div id="meetingModal" class="modal" style="display: none;">
    <div class="modal-content large">
        <span class="close" onclick="closeModal('meetingModal')">&times;</span>
        <div id="meetingModalContent">
            <!-- Content will be dynamically loaded -->
        </div>
    </div>
</div>

<!-- Member Profile Modal -->
<div id="memberModal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close" onclick="closeModal('memberModal')">&times;</span>
        <div id="memberModalContent">
            <!-- Content will be dynamically loaded -->
        </div>
    </div>
</div>

<!-- Resource Access Modal -->
<div id="resourceModal" class="modal" style="display: none;">
    <div class="modal-content large">
        <span class="close" onclick="closeModal('resourceModal')">&times;</span>
        <div id="resourceModalContent">
            <!-- Content will be dynamically loaded -->
        </div>
    </div>
</div>

<footer class="footer">
    <p>&copy; 2025 Greater Glory Ministries. All rights reserved.</p>
</footer>

<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>
<script src="../../js/auth-control.js"></script>

<script>
document.addEventListener('DOMContentLoaded', () => {
    loadLeaderData();
    initializeLeaderDashboard();
});

function loadLeaderData() {
    // Check for mock auth first
    const mockAuth = localStorage.getItem('mockAuth');
    if (mockAuth) {
        const user = JSON.parse(mockAuth);
        updateDashboardWithLeaderData(user);
        return;
    }
    
    // Firebase auth check
    if (typeof firebase !== 'undefined' && firebase.auth) {
        firebase.auth().onAuthStateChanged(async user => {
            if (user) {
                try {
                    const userDoc = await firebase.firestore().collection('users').doc(user.uid).get();
                    const userData = userDoc.exists ? userDoc.data() : {};
                    userData.email = user.email;
                    updateDashboardWithLeaderData(userData);
                } catch (error) {
                    console.error('Error loading user data:', error);
                }
            } else {
                // Redirect to login if not authenticated
                window.location.href = 'auth.html';
            }
        });
    }
}

function updateDashboardWithLeaderData(user) {
    // Update leader name
    const leaderName = document.getElementById('leaderName');
    if (leaderName) {
        leaderName.textContent = user.name || user.email?.split('@')[0] || 'Leader';
    }
    
    // Update cell group info
    const cellName = document.getElementById('cellName');
    if (cellName && user.cell) {
        cellName.textContent = user.cell;
    }
    
    // Show appropriate navigation items
    showNavigationForRole(user.role);
}

function showNavigationForRole(role) {
    const memberOnlyItems = document.querySelectorAll('.member-only');
    const leaderOnlyItems = document.querySelectorAll('.leader-only');
    
    memberOnlyItems.forEach(item => item.style.display = 'block');
    leaderOnlyItems.forEach(item => item.style.display = 'block');
}

function initializeLeaderDashboard() {
    // Initialize any dashboard-specific functionality
    setupRealTimeUpdates();
    loadRecentActivity();
}

function setupRealTimeUpdates() {
    // Simulate real-time updates for demonstration
    setInterval(() => {
        updateAttendanceStats();
    }, 30000); // Update every 30 seconds
}

function updateAttendanceStats() {
    // This would typically fetch real-time data from your backend
    console.log('Updating attendance statistics...');
}

function loadRecentActivity() {
    // Load recent cell group activities
    console.log('Loading recent cell group activities...');
}

// Meeting Management Functions
function scheduleNewMeeting() {
    const modalContent = document.getElementById('meetingModalContent');
    modalContent.innerHTML = `
        <div class="meeting-form-container">
            <h2><i class="fas fa-calendar-plus"></i> Schedule New Meeting</h2>
            <form id="newMeetingForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="meetingTitle">Meeting Title</label>
                        <input type="text" id="meetingTitle" placeholder="e.g., Weekly Bible Study" required>
                    </div>
                    <div class="form-group">
                        <label for="meetingDate">Date</label>
                        <input type="date" id="meetingDate" required>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="meetingTime">Time</label>
                        <input type="time" id="meetingTime" required>
                    </div>
                    <div class="form-group">
                        <label for="meetingDuration">Duration (minutes)</label>
                        <select id="meetingDuration">
                            <option value="60">1 hour</option>
                            <option value="90" selected>1.5 hours</option>
                            <option value="120">2 hours</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="meetingLocation">Location</label>
                    <input type="text" id="meetingLocation" placeholder="e.g., Highlands Community Center" required>
                </div>
                
                <div class="form-group">
                    <label for="meetingTopic">Main Topic/Theme</label>
                    <input type="text" id="meetingTopic" placeholder="e.g., Walking in Faith" required>
                </div>
                
                <div class="form-group">
                    <label for="studyMaterial">Study Material</label>
                    <select id="studyMaterial">
                        <option value="">Select study guide...</option>
                        <option value="faith-series">Faith Series - Week 3</option>
                        <option value="love-series">God's Love Series - Week 1</option>
                        <option value="prayer-series">Power of Prayer - Week 2</option>
                        <option value="custom">Custom Study</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="meetingNotes">Additional Notes</label>
                    <textarea id="meetingNotes" rows="3" placeholder="Any special instructions or notes for the meeting..."></textarea>
                </div>
                
                <div class="form-group">
                    <label class="checkbox-container">
                        <input type="checkbox" id="sendInvites" checked>
                        <span class="checkmark"></span>
                        Send meeting invitations to all cell members
                    </label>
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i> Schedule Meeting
                    </button>
                    <button type="button" class="btn btn-outline" onclick="closeModal('meetingModal')">
                        Cancel
                    </button>
                </div>
            </form>
        </div>
    `;
    
    document.getElementById('meetingModal').style.display = 'block';
    
    // Handle form submission
    document.getElementById('newMeetingForm').addEventListener('submit', (e) => {
        e.preventDefault();
        const formData = new FormData(e.target);
        saveMeeting(formData);
    });
}

function saveMeeting(formData) {
    // Simulate saving meeting
    const meetingData = {
        title: document.getElementById('meetingTitle').value,
        date: document.getElementById('meetingDate').value,
        time: document.getElementById('meetingTime').value,
        location: document.getElementById('meetingLocation').value,
        topic: document.getElementById('meetingTopic').value,
        material: document.getElementById('studyMaterial').value,
        notes: document.getElementById('meetingNotes').value,
        sendInvites: document.getElementById('sendInvites').checked
    };
    
    alert(`Meeting "${meetingData.title}" has been scheduled successfully!${meetingData.sendInvites ? '\n\nInvitations will be sent to all cell members.' : ''}`);
    closeModal('meetingModal');
}

function startMeeting() {
    const confirmStart = confirm('Are you ready to start the cell meeting?\n\nThis will:\n‚Ä¢ Mark attendance for present members\n‚Ä¢ Begin the meeting timer\n‚Ä¢ Send notifications to absent members');
    
    if (confirmStart) {
        alert('Meeting started! üôè\n\n‚Ä¢ Attendance tracking is now active\n‚Ä¢ Meeting materials are accessible\n‚Ä¢ Timer started for 90 minutes\n\nGod bless your meeting!');
    }
}

function editMeeting() {
    alert('Meeting edit functionality would open here, allowing you to modify the scheduled meeting details.');
}

// Member Management Functions
function viewCellMembers() {
    alert('Opening detailed cell members view with attendance records, contact information, and pastoral care notes.');
}

function contactMember(memberName) {
    const contactOptions = confirm(`Contact ${memberName}?\n\nClick OK to call, Cancel to send message.`);
    if (contactOptions) {
        alert(`Calling ${memberName}... üìû`);
    } else {
        alert(`Opening message interface for ${memberName}... üí¨`);
    }
}

function viewMemberProfile(memberName) {
    const modalContent = document.getElementById('memberModalContent');
    modalContent.innerHTML = `
        <div class="member-profile-container">
            <h2><i class="fas fa-user-circle"></i> ${memberName} - Member Profile</h2>
            
            <div class="profile-sections">
                <div class="profile-section">
                    <h3>Personal Information</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <label>Full Name:</label>
                            <span>${memberName}</span>
                        </div>
                        <div class="info-item">
                            <label>Email:</label>
                            <span>${memberName.toLowerCase().replace(' ', '.')}@email.com</span>
                        </div>
                        <div class="info-item">
                            <label>Phone:</label>
                            <span>+263 77 123 4567</span>
                        </div>
                        <div class="info-item">
                            <label>Address:</label>
                            <span>123 Faith Street, Highlands, Harare</span>
                        </div>
                    </div>
                </div>
                
                <div class="profile-section">
                    <h3>Church Involvement</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <label>Member Since:</label>
                            <span>January 2024</span>
                        </div>
                        <div class="info-item">
                            <label>Ministry:</label>
                            <span>Choir Ministry</span>
                        </div>
                        <div class="info-item">
                            <label>Cell Group:</label>
                            <span>Cell Alpha</span>
                        </div>
                        <div class="info-item">
                            <label>Baptized:</label>
                            <span>Yes (March 2024)</span>
                        </div>
                    </div>
                </div>
                
                <div class="profile-section">
                    <h3>Attendance & Participation</h3>
                    <div class="attendance-stats">
                        <div class="stat-card">
                            <div class="stat-number">90%</div>
                            <div class="stat-label">Cell Attendance</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">85%</div>
                            <div class="stat-label">Sunday Service</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">12</div>
                            <div class="stat-label">Prayer Requests</div>
                        </div>
                    </div>
                </div>
                
                <div class="profile-section">
                    <h3>Pastoral Notes</h3>
                    <textarea rows="4" placeholder="Add pastoral care notes, prayer requests, or follow-up items..." class="pastoral-notes"></textarea>
                </div>
            </div>
            
            <div class="profile-actions">
                <button class="btn btn-primary" onclick="updateMemberProfile('${memberName}')">
                    <i class="fas fa-save"></i> Update Profile
                </button>
                <button class="btn btn-outline" onclick="schedulePastoralVisit('${memberName}')">
                    <i class="fas fa-home"></i> Schedule Visit
                </button>
                <button class="btn btn-secondary" onclick="closeModal('memberModal')">
                    Close
                </button>
            </div>
        </div>
    `;
    
    document.getElementById('memberModal').style.display = 'block';
}

function sendCellMessage() {
    const message = prompt('Send a message to your cell group:\n\n(This will be sent via SMS and WhatsApp to all members)');
    if (message && message.trim()) {
        alert(`Message sent to all 12 cell members! üì±\n\nMessage: "${message}"\n\nDelivery status will be updated in your dashboard.`);
    }
}

function viewAllMembers() {
    alert('Opening comprehensive member management interface with detailed profiles, attendance tracking, and pastoral care tools.');
}

// Resource Management Functions
function openResource(resourceType) {
    const modalContent = document.getElementById('resourceModalContent');
    
    const resourceData = {
        'study-guides': {
            title: 'Study Guides & Lesson Plans',
            icon: 'fas fa-bookmark',
            content: `
                <div class="resource-library">
                    <div class="resource-categories">
                        <button class="category-btn active" onclick="filterResources('current')">Current Series</button>
                        <button class="category-btn" onclick="filterResources('upcoming')">Upcoming</button>
                        <button class="category-btn" onclick="filterResources('archived')">Archived</button>
                    </div>
                    
                    <div class="resources-list current">
                        <div class="resource-item downloadable">
                            <div class="resource-icon"><i class="fas fa-file-pdf"></i></div>
                            <div class="resource-details">
                                <h4>Walking in Faith - Week 3</h4>
                                <p>Overcoming doubt through God's promises</p>
                                <small>Updated 2 days ago ‚Ä¢ PDF, 8 pages</small>
                            </div>
                            <button class="btn btn-sm btn-primary" onclick="downloadResource('faith-week3')">
                                <i class="fas fa-download"></i> Download
                            </button>
                        </div>
                        
                        <div class="resource-item downloadable">
                            <div class="resource-icon"><i class="fas fa-video"></i></div>
                            <div class="resource-details">
                                <h4>Faith Video Series - Part 3</h4>
                                <p>Companion video for this week's study</p>
                                <small>Duration: 25 minutes ‚Ä¢ HD Video</small>
                            </div>
                            <button class="btn btn-sm btn-primary" onclick="playVideo('faith-part3')">
                                <i class="fas fa-play"></i> Play
                            </button>
                        </div>
                        
                        <div class="resource-item downloadable new">
                            <div class="resource-icon"><i class="fas fa-clipboard-list"></i></div>
                            <div class="resource-details">
                                <h4>Discussion Questions - Faith Series</h4>
                                <p>Interactive questions for group engagement</p>
                                <small>New! ‚Ä¢ Interactive PDF</small>
                            </div>
                            <button class="btn btn-sm btn-primary" onclick="downloadResource('faith-questions')">
                                <i class="fas fa-download"></i> Download
                            </button>
                        </div>
                    </div>
                </div>
            `
        },
        'training-materials': {
            title: 'Leadership Training Materials',
            icon: 'fas fa-chalkboard-teacher',
            content: `
                <div class="training-hub">
                    <div class="training-progress">
                        <h3>Your Training Progress</h3>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 65%"></div>
                        </div>
                        <p>65% Complete ‚Ä¢ 4 of 8 modules finished</p>
                    </div>
                    
                    <div class="training-modules">
                        <div class="module-item completed">
                            <i class="fas fa-check-circle"></i>
                            <h4>Module 1: Leadership Foundations</h4>
                            <p>Biblical principles of Christian leadership</p>
                            <button class="btn btn-sm btn-outline">Review</button>
                        </div>
                        
                        <div class="module-item completed">
                            <i class="fas fa-check-circle"></i>
                            <h4>Module 2: Cell Group Dynamics</h4>
                            <p>Managing small group interactions</p>
                            <button class="btn btn-sm btn-outline">Review</button>
                        </div>
                        
                        <div class="module-item current">
                            <i class="fas fa-play-circle"></i>
                            <h4>Module 3: Pastoral Care Basics</h4>
                            <p>Supporting members through challenges</p>
                            <button class="btn btn-sm btn-primary">Continue</button>
                        </div>
                        
                        <div class="module-item locked">
                            <i class="fas fa-lock"></i>
                            <h4>Module 4: Conflict Resolution</h4>
                            <p>Handling disagreements in love</p>
                            <button class="btn btn-sm" disabled>Locked</button>
                        </div>
                    </div>
                </div>
            `
        },
        'pastoral-support': {
            title: 'Pastoral Support Resources',
            icon: 'fas fa-praying-hands',
            content: `
                <div class="pastoral-support">
                    <div class="support-options">
                        <div class="support-card emergency">
                            <i class="fas fa-phone-alt"></i>
                            <h3>Emergency Pastoral Line</h3>
                            <p>24/7 support for urgent pastoral care</p>
                            <button class="btn btn-danger">Call Now: +263 77 PASTOR</button>
                        </div>
                        
                        <div class="support-card">
                            <i class="fas fa-calendar-check"></i>
                            <h3>Schedule Consultation</h3>
                            <p>Book a session with senior leadership</p>
                            <button class="btn btn-primary" onclick="scheduleConsultation()">Book Session</button>
                        </div>
                        
                        <div class="support-card">
                            <i class="fas fa-comments"></i>
                            <h3>Leader Support Forum</h3>
                            <p>Connect with other cell leaders</p>
                            <button class="btn btn-outline">Join Discussion</button>
                        </div>
                    </div>
                    
                    <div class="support-resources">
                        <h3>Quick Reference Guides</h3>
                        <ul>
                            <li><a href="#"><i class="fas fa-file-alt"></i> Crisis Intervention Guidelines</a></li>
                            <li><a href="#"><i class="fas fa-file-alt"></i> Grief Counseling Basics</a></li>
                            <li><a href="#"><i class="fas fa-file-alt"></i> Marriage Conflict Support</a></li>
                            <li><a href="#"><i class="fas fa-file-alt"></i> Youth Pastoral Care</a></li>
                        </ul>
                    </div>
                </div>
            `
        },
        'member-care': {
            title: 'Member Care Tools',
            icon: 'fas fa-heart',
            content: `
                <div class="member-care-tools">
                    <div class="care-dashboard">
                        <h3>Member Care Overview</h3>
                        <div class="care-stats">
                            <div class="care-stat">
                                <div class="stat-number">3</div>
                                <div class="stat-label">Members Needing Follow-up</div>
                            </div>
                            <div class="care-stat">
                                <div class="stat-number">2</div>
                                <div class="stat-label">Scheduled Visits</div>
                            </div>
                            <div class="care-stat">
                                <div class="stat-number">5</div>
                                <div class="stat-label">Active Prayer Requests</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="care-tools-grid">
                        <button class="care-tool" onclick="trackFollowUp()">
                            <i class="fas fa-clipboard-check"></i>
                            <h4>Follow-up Tracker</h4>
                            <p>Track pastoral visits and care</p>
                        </button>
                        
                        <button class="care-tool" onclick="sendEncouragement()">
                            <i class="fas fa-heart"></i>
                            <h4>Send Encouragement</h4>
                            <p>Quick encouraging messages</p>
                        </button>
                        
                        <button class="care-tool" onclick="prayerRequestManager()">
                            <i class="fas fa-praying-hands"></i>
                            <h4>Prayer Requests</h4>
                            <p>Manage member prayer needs</p>
                        </button>
                        
                        <button class="care-tool" onclick="visitScheduler()">
                            <i class="fas fa-calendar-alt"></i>
                            <h4>Visit Scheduler</h4>
                            <p>Schedule home/hospital visits</p>
                        </button>
                    </div>
                </div>
            `
        }
    };
    
    const resource = resourceData[resourceType];
    modalContent.innerHTML = `
        <div class="resource-container">
            <h2><i class="${resource.icon}"></i> ${resource.title}</h2>
            ${resource.content}
        </div>
    `;
    
    document.getElementById('resourceModal').style.display = 'block';
}

// Prayer and Pastoral Care Functions
function provideCare(memberName, careType) {
    const careActions = {
        'health': 'Health & Medical Support',
        'employment': 'Employment & Financial Support',
        'family': 'Family & Relationship Support',
        'spiritual': 'Spiritual Growth Support'
    };
    
    const action = careActions[careType] || 'General Pastoral Care';
    
    const careOptions = `
Providing ${action} for ${memberName}:

1. Schedule a personal visit
2. Organize prayer support from the cell
3. Connect with relevant ministry teams
4. Provide counseling resources
5. Follow up with phone call

Select your action:`;

    const choice = prompt(careOptions + '\n\nEnter 1-5 for your choice:');
    
    if (choice && choice >= 1 && choice <= 5) {
        const actions = [
            'Personal visit scheduled',
            'Prayer support organized',
            'Ministry team contacted',
            'Counseling resources provided',
            'Follow-up call scheduled'
        ];
        
        alert(`‚úÖ ${actions[choice-1]} for ${memberName}\n\nYou will receive a confirmation and reminder about this pastoral care action.`);
    }
}

function viewAllPrayerRequests() {
    alert('Opening comprehensive prayer request management system with priority levels, follow-up tracking, and answered prayer celebration.');
}

function schedulePastoralVisit() {
    const visitDetails = prompt('Schedule a pastoral visit:\n\n1. Home visit\n2. Hospital visit\n3. Workplace visit\n4. Coffee meeting\n\nEnter your choice (1-4) and any special notes:');
    
    if (visitDetails) {
        alert('Pastoral visit scheduled! üè†\n\nYou will receive:\n‚Ä¢ Calendar reminder\n‚Ä¢ Member contact details\n‚Ä¢ Visit preparation guidelines\n‚Ä¢ Follow-up reminder');
    }
}

// Leader Action Functions
function createStudyPlan() {
    alert('Opening study plan creator with:\n\n‚Ä¢ Pre-built series templates\n‚Ä¢ Custom lesson builder\n‚Ä¢ Resource library integration\n‚Ä¢ Member progress tracking');
}

function sendCellReminder() {
    const reminderType = prompt('Send cell group reminder:\n\n1. Meeting reminder (tomorrow)\n2. Prayer request update\n3. Event announcement\n4. Custom message\n\nSelect option (1-4):');
    
    if (reminderType) {
        alert('üì± Reminder sent to all cell members!\n\nDelivery methods:\n‚Ä¢ SMS text message\n‚Ä¢ WhatsApp message\n‚Ä¢ Email notification\n\nDelivery status will be tracked in your dashboard.');
    }
}

function generateReport() {
    const reportType = prompt('Generate report:\n\n1. Monthly cell activity report\n2. Member attendance summary\n3. Prayer request status\n4. Growth and conversion report\n\nSelect report type (1-4):');
    
    if (reportType) {
        alert('üìä Report generated!\n\nThe report will be:\n‚Ä¢ Emailed to you within 5 minutes\n‚Ä¢ Available in your dashboard\n‚Ä¢ Automatically sent to your supervisor\n\nReport includes charts, statistics, and action items.');
    }
}

function requestPrayerSupport() {
    const prayerRequest = prompt('Request prayer support:\n\nDescribe what you need prayer for as a leader:');
    
    if (prayerRequest && prayerRequest.trim()) {
        alert(`üôè Prayer request submitted!\n\nYour request: "${prayerRequest}"\n\nThis will be shared with:\n‚Ä¢ Senior pastoral team\n‚Ä¢ Other cell leaders (if you approve)\n‚Ä¢ Prayer ministry team\n\nYou'll receive prayer support within 24 hours.`);
    }
}

function inviteNewMember() {
    alert('Opening member invitation system:\n\n‚Ä¢ Send digital invite cards\n‚Ä¢ Track invitation responses\n‚Ä¢ Schedule follow-up visits\n‚Ä¢ Integration with member registration\n\nInvite people to your cell group easily!');
}

function accessTraining() {
    openResource('training-materials');
}

// Announcement Response Functions
function respondToAnnouncement(announcementId) {
    const responses = {
        'leaders-meeting': 'Confirm your attendance for the Monthly Leaders Meeting on August 31st at 2:00 PM:'
    };
    
    const response = prompt(responses[announcementId] + '\n\n1. I will attend\n2. I cannot attend\n3. I need more information\n\nEnter your choice (1-3):');
    
    if (response) {
        const responseTexts = [
            'Thank you! Your attendance is confirmed. ‚úÖ',
            'Thank you for letting us know. We\'ll send you meeting notes. üìù',
            'Someone from the leadership team will contact you with details. ‚ÑπÔ∏è'
        ];
        
        alert(responseTexts[response-1] || 'Response recorded. Thank you!');
    }
}

function viewNewMaterials() {
    openResource('study-guides');
}

function registerForTraining() {
    alert('üéì Leadership Training Workshop Registration\n\nWorkshop: Advanced Leadership Skills\nDate: September 15th, 2024\nTime: 9:00 AM - 4:00 PM\nVenue: Main Church Auditorium\n\nRegistration deadline: September 1st\n\nYou will be redirected to complete your registration...');
}

// Utility Functions
function closeModal(modalId) {
    document.getElementById(modalId).style.display = 'none';
}

function handleLogout() {
    localStorage.removeItem('mockAuth');
    if (typeof firebase !== 'undefined' && firebase.auth) {
        firebase.auth().signOut();
    }
    window.location.href = '../../index.html';
}

// Initialize logout functionality
document.addEventListener('DOMContentLoaded', () => {
    const logoutBtn = document.getElementById('logoutBtn');
    if (logoutBtn) {
        logoutBtn.style.display = 'inline-block';
        logoutBtn.addEventListener('click', handleLogout);
    }
});

// Close modals when clicking outside
window.onclick = function(event) {
    const modals = ['meetingModal', 'memberModal', 'resourceModal'];
    modals.forEach(modalId => {
        const modal = document.getElementById(modalId);
        if (event.target === modal) {
            modal.style.display = 'none';
        }
    });
}
</script>

<style>
.dashboard-main {
    padding: 20px;
    max-width: 1400px;
    margin: 0 auto;
    background: #f8f9fa;
}

.dashboard-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
    padding: 20px;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-radius: 15px;
    color: white;
}

.welcome-section h1 {
    margin: 0 0 10px 0;
    font-size: 2.2rem;
}

.greeting {
    font-size: 1.3rem;
    margin: 0 0 10px 0;
    opacity: 0.9;
}

.section-description {
    opacity: 0.8;
    margin: 0;
}

.leader-badge {
    display: flex;
    align-items: center;
    gap: 10px;
    background: rgba(255, 255, 255, 0.2);
    padding: 15px 20px;
    border-radius: 50px;
    backdrop-filter: blur(10px);
    font-weight: bold;
    font-size: 1.1rem;
}

.leader-badge i {
    font-size: 1.5rem;
    color: #ffd700;
}

.dashboard-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 25px;
}

.dashboard-card {
    background: white;
    border-radius: 15px;
    padding: 25px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.08);
    border: 1px solid #e0e0e0;
    transition: all 0.3s ease;
    position: relative;
}

.dashboard-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 30px rgba(0,0,0,0.15);
}

.dashboard-card h3 {
    margin-top: 0;
    margin-bottom: 20px;
    color: #333;
    display: flex;
    align-items: center;
    gap: 12px;
    border-bottom: 2px solid #f0f0f0;
    padding-bottom: 15px;
    font-size: 1.3rem;
}

.dashboard-card h3 i {
    color: #667eea;
    font-size: 1.4em;
}

/* Leadership Stats */
.leadership-stats {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
}

.leadership-stats h3 {
    border-bottom-color: rgba(255, 255, 255, 0.3);
}

.leadership-stats h3 i {
    color: #ffd700;
}

.stats-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
}

.stat-item {
    text-align: center;
    padding: 20px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 12px;
    backdrop-filter: blur(10px);
}

.stat-number {
    font-size: 2.5em;
    font-weight: bold;
    margin-bottom: 8px;
    color: #ffd700;
}

.stat-label {
    font-size: 0.95em;
    opacity: 0.9;
    font-weight: 500;
}

.stat-trend {
    font-size: 0.8em;
    margin-top: 5px;
    opacity: 0.7;
}

.stat-trend.positive {
    color: #90EE90;
}

/* Cell Management Card */
.cell-management-content {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.cell-info-summary {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.info-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    background: #f8f9fa;
    border-radius: 8px;
}

.info-item i {
    color: #667eea;
    width: 20px;
    text-align: center;
}

.cell-actions {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

/* Members Card */
.members-list {
    margin-bottom: 20px;
}

.member-item {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 15px;
    border: 1px solid #e0e0e0;
    border-radius: 10px;
    margin-bottom: 15px;
    transition: all 0.2s ease;
}

.member-item:hover {
    background: #f8f9fa;
    border-color: #667eea;
}

.member-avatar {
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, #667eea, #764ba2);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5rem;
}

.member-details {
    flex: 1;
}

.member-details h4 {
    margin: 0 0 5px 0;
    color: #333;
}

.member-details p {
    margin: 0 0 8px 0;
    color: #666;
    font-size: 0.9rem;
}

.member-stats {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.attendance-badge, .ministry-badge {
    padding: 3px 8px;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 500;
}

.attendance-badge.good {
    background: #d4edda;
    color: #155724;
}

.attendance-badge.average {
    background: #fff3cd;
    color: #856404;
}

.attendance-badge.new {
    background: #d1ecf1;
    color: #0c5460;
}

.ministry-badge {
    background: #e2e3e5;
    color: #495057;
}

.member-actions {
    display: flex;
    gap: 8px;
}

.action-btn {
    width: 35px;
    height: 35px;
    border: none;
    border-radius: 50%;
    background: #667eea;
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
}

.action-btn:hover {
    background: #5a67d8;
    transform: scale(1.1);
}

/* Meeting Management */
.meetings-content {
    display: flex;
    flex-direction: column;
    gap: 25px;
}

.next-meeting h4 {
    color: #667eea;
    margin-bottom: 15px;
    font-size: 1.2rem;
}

.meeting-details {
    display: flex;
    align-items: center;
    gap: 20px;
    padding: 20px;
    background: #f8f9fa;
    border-radius: 12px;
    margin-bottom: 15px;
}

.meeting-date {
    text-align: center;
    min-width: 60px;
    padding: 15px;
    background: #667eea;
    color: white;
    border-radius: 10px;
}

.meeting-date .day {
    font-size: 2rem;
    font-weight: bold;
}

.meeting-date .month {
    font-size: 0.9rem;
    opacity: 0.9;
}

.meeting-info flex: 1;
}

.meeting-info h5 {
    margin: 0 0 8px 0;
    color: #333;
    font-size: 1.1rem;
}

.meeting-info p {
    margin: 5px 0;
    color: #666;
    display: flex;
    align-items: center;
    gap: 8px;
}

.meeting-info i {
    color: #667eea;
    width: 16px;
}

.meeting-actions {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.recent-meetings h4 {
    color: #667eea;
    margin-bottom: 15px;
}

.meeting-history {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.history-item {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 12px;
    background: #f8f9fa;
    border-radius: 8px;
}

.history-date {
    min-width: 50px;
    text-align: center;
    font-weight: bold;
    color: #667eea;
}

.history-details {
    flex: 1;
}

.history-details h5 {
    margin: 0 0 3px 0;
    font-size: 0.95rem;
}

.history-details p {
    margin: 0;
    font-size: 0.85rem;
    color: #666;
}

.history-status.success {
    color: #28a745;
    font-size: 1.2rem;
}

/* Leader Exclusive Resources */
.leader-exclusive {
    border: 2px solid #ffd700;
    position: relative;
    background: linear-gradient(135deg, #fff9e6 0%, #ffffff 100%);
}

.exclusive-badge {
    position: absolute;
    top: -12px;
    right: 20px;
    background: #ffd700;
    color: #333;
    padding: 8px 15px;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: bold;
    display: flex;
    align-items: center;
    gap: 5px;
}

.resources-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
}

.resource-item {
    padding: 20px;
    background: white;
    border: 2px solid #e0e0e0;
    border-radius: 12px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
}

.resource-item:hover {
    border-color: #667eea;
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

.resource-item i {
    font-size: 2.5rem;
    color: #667eea;
    margin-bottom: 15px;
}

.resource-item h4 {
    margin: 0 0 10px 0;
    color: #333;
    font-size: 1.1rem;
}

.resource-item p {
    margin: 0 0 15px 0;
    color: #666;
    font-size: 0.9rem;
    line-height: 1.4;
}

.resource-badge {
    position: absolute;
    top: 10px;
    right: 10px;
    background: #667eea;
    color: white;
    padding: 4px 8px;
    border-radius: 10px;
    font-size: 0.7rem;
    font-weight: bold;
}

.resource-badge.new {
    background: #28a745;
}

/* Prayer & Care Card */
.care-content {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.prayer-requests-summary h4 {
    color: #667eea;
    margin-bottom: 15px;
}

.prayer-list {
    display: flex;
    flex-direction: column;
    gap: 15px;
    margin-bottom: 20px;
}

.prayer-item {
    display: flex;
    align-items: flex-start;
    gap: 15px;
    padding: 15px;
    border-radius: 10px;
    border-left: 4px solid #667eea;
    background: #f8f9fa;
}

.prayer-item.urgent {
    border-left-color: #dc3545;
    background: #fff5f5;
}

.prayer-icon {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #667eea;
    color: white;
    font-size: 1.2rem;
    flex-shrink: 0;
}

.prayer-icon.urgent {
    background: #dc3545;
    animation: pulse 2s infinite;
}

.prayer-details {
    flex: 1;
}

.prayer-details h5 {
    margin: 0 0 5px 0;
    color: #333;
    font-size: 1rem;
}

.prayer-details p {
    margin: 0 0 5px 0;
    color: #666;
    font-size: 0.9rem;
}

.prayer-details small {
    color: #999;
    font-size: 0.8rem;
}

.care-action {
    width: 40px;
    height: 40px;
    border: none;
    border-radius: 50%;
    background: #28a745;
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
}

.care-action:hover {
    background: #218838;
    transform: scale(1.1);
}

.care-actions {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

/* Leader Actions Grid */
.leader-actions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 15px;
}

.leader-action-btn {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    padding: 20px 15px;
    background: #f8f9fa;
    border: 2px solid transparent;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-align: center;
}

.leader-action-btn:hover {
    background: #667eea;
    color: white;
    border-color: #5a67d8;
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
}

.leader-action-btn i {
    font-size: 2rem;
    color: #667eea;
    transition: color 0.3s ease;
}

.leader-action-btn:hover i {
    color: white;
}

.leader-action-btn span {
    font-weight: 500;
    font-size: 0.9rem;
}

/* Announcements */
.announcement-list {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.announcement-item {
    padding: 20px;
    border-radius: 12px;
    border-left: 4px solid #667eea;
    background: #f8f9fa;
}

.announcement-item.priority {
    border-left-color: #dc3545;
    background: #fff5f5;
}

.announcement-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 10px;
    gap: 15px;
}

.announcement-header h4 {
    margin: 0;
    color: #333;
    flex: 1;
}

.priority-badge, .update-badge, .event-badge {
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: bold;
    white-space: nowrap;
}

.priority-badge {
    background: #dc3545;
    color: white;
}

.update-badge {
    background: #28a745;
    color: white;
}

.event-badge {
    background: #ffc107;
    color: #212529;
}

.announcement-item p {
    margin: 0 0 15px 0;
    color: #666;
    line-height: 1.5;
}

.announcement-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 15px;
}

.announcement-meta small {
    color: #999;
    font-size: 0.8rem;
}

.btn-link {
    background: none;
    border: none;
    color: #667eea;
    cursor: pointer;
    text-decoration: underline;
    font-size: 0.9rem;
    padding: 0;
}

.btn-link:hover {
    color: #5a67d8;
}

/* Button Styles */
.btn {
    padding: 12px 20px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 0.95rem;
    font-weight: 500;
    transition: all 0.3s ease;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
}

.btn-primary {
    background: #667eea;
    color: white;
}

.btn-primary:hover {
    background: #5a67d8;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
}

.btn-outline {
    background: transparent;
    color: #667eea;
    border: 2px solid #667eea;
}

.btn-outline:hover {
    background: #667eea;
    color: white;
}

.btn-secondary {
    background: #6c757d;
    color: white;
}

.btn-secondary:hover {
    background: #5a6268;
}

.btn-sm {
    padding: 8px 15px;
    font-size: 0.85rem;
}

.full-width {
    width: 100%;
}

/* Modal Styles */
.modal {
    position: fixed;
    z-index: 2000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    animation: fadeIn 0.3s;
}

.modal-content {
    background-color: white;
    padding: 0;
    border-radius: 15px;
    width: 90%;
    max-width: 600px;
    max-height: 90vh;
    overflow-y: auto;
    position: relative;
    animation: slideIn 0.3s;
}

.modal-content.large {
    max-width: 800px;
}

.close {
    position: absolute;
    top: 15px;
    right: 20px;
    color: #999;
    font-size: 24px;
    font-weight: bold;
    cursor: pointer;
    z-index: 10;
    width: 30px;
    height: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: all 0.2s ease;
}

.close:hover {
    background: #f0f0f0;
    color: #333;
}

/* Meeting Form Styles */
.meeting-form-container {
    padding: 30px;
}

.meeting-form-container h2 {
    margin-bottom: 25px;
    color: #333;
    display: flex;
    align-items: center;
    gap: 10px;
}

.form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 20px;
}

.form-group {
    margin-bottom: 20px;
}

.form-group label {
    display: block;
    margin-bottom: 8px;
    color: #333;
    font-weight: 500;
}

.form-group input,
.form-group select,
.form-group textarea {
    width: 100%;
    padding: 12px;
    border: 2px solid #e0e0e0;
    border-radius: 8px;
    font-size: 1rem;
    transition: border-color 0.3s ease;
    box-sizing: border-box;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    outline: none;
    border-color: #667eea;
}

.checkbox-container {
    display: flex;
    align-items: center;
    gap: 10px;
    cursor: pointer;
}

.form-actions {
    display: flex;
    gap: 15px;
    justify-content: flex-end;
    margin-top: 30px;
    padding-top: 20px;
    border-top: 1px solid #e0e0e0;
}

/* Member Profile Styles */
.member-profile-container {
    padding: 30px;
}

.profile-sections {
    display: flex;
    flex-direction: column;
    gap: 25px;
    margin: 25px 0;
}

.profile-section h3 {
    color: #667eea;
    border-bottom: 2px solid #667eea;
    padding-bottom: 8px;
    margin-bottom: 15px;
}

.info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
}

.info-item {
    display: flex;
    justify-content: space-between;
    padding: 10px;
    background: #f8f9fa;
    border-radius: 6px;
}

.info-item label {
    font-weight: 500;
    color: #666;
}

.attendance-stats {
    display: flex;
    gap: 20px;
    justify-content: space-around;
}

.stat-card {
    text-align: center;
    padding: 20px;
    background: #f8f9fa;
    border-radius: 12px;
    flex: 1;
}

.stat-card .stat-number {
    font-size: 2rem;
    font-weight: bold;
    color: #667eea;
    margin-bottom: 5px;
}

.stat-card .stat-label {
    color: #666;
    font-size: 0.9rem;
}

.pastoral-notes {
    width: 100%;
    padding: 12px;
    border: 2px solid #e0e0e0;
    border-radius: 8px;
    resize: vertical;
    font-family: inherit;
}

.profile-actions {
    display: flex;
    gap: 15px;
    justify-content: flex-end;
    margin-top: 25px;
    padding-top: 20px;
    border-top: 1px solid #e0e0e0;
}

/* Resource Container Styles */
.resource-container {
    padding: 30px;
}

.resource-library {
    margin-top: 20px;
}

.resource-categories {
    display: flex;
    gap: 10px;
    margin-bottom: 25px;
    border-bottom: 1px solid #e0e0e0;
}

.category-btn {
    padding: 10px 20px;
    background: none;
    border: none;
    border-bottom: 3px solid transparent;
    cursor: pointer;
    font-weight: 500;
    color: #666;
    transition: all 0.3s ease;
}

.category-btn.active,
.category-btn:hover {
    color: #667eea;
    border-bottom-color: #667eea;
}

.resources-list {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.resource-item.downloadable {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 20px;
    border: 1px solid #e0e0e0;
    border-radius: 10px;
    transition: all 0.3s ease;
    text-align: left;
    cursor: default;
}

.resource-item.downloadable:hover {
    border-color: #667eea;
    background: #f8f9fa;
}

.resource-item.downloadable.new::before {
    content: 'NEW!';
    position: absolute;
    top: 10px;
    right: 10px;
    background: #28a745;
    color: white;
    padding: 4px 8px;
    border-radius: 10px;
    font-size: 0.7rem;
    font-weight: bold;
}

.resource-icon {
    width: 50px;
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #667eea;
    color: white;
    border-radius: 10px;
    font-size: 1.5rem;
}

.resource-details {
    flex: 1;
}

.resource-details h4 {
    margin: 0 0 5px 0;
    color: #333;
}

.resource-details p {
    margin: 0 0 5px 0;
    color: #666;
    font-size: 0.9rem;
}

.resource-details small {
    color: #999;
    font-size: 0.8rem;
}

/* Training Hub Styles */
.training-hub {
    margin-top: 20px;
}

.training-progress {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 12px;
    margin-bottom: 25px;
}

.training-progress h3 {
    margin-top: 0;
    color: #333;
}

.progress-bar {
    width: 100%;
    height: 10px;
    background: #e0e0e0;
    border-radius: 5px;
    margin: 15px 0 10px 0;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #667eea, #764ba2);
    border-radius: 5px;
    transition: width 0.5s ease;
}

.training-modules {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.module-item {
    display: flex;
    align-items: center;
    gap: 15px;
    padding: 20px;
    border: 2px solid #e0e0e0;
    border-radius: 12px;
    transition: all 0.3s ease;
}

.module-item.completed {
    border-color: #28a745;
    background: #f8fff9;
}

.module-item.current {
    border-color: #667eea;
    background: #f8f9ff;
}

.module-item.locked {
    opacity: 0.6;
    background: #f8f8f8;
}

.module-item i {
    font-size: 2rem;
    width: 40px;
    text-align: center;
}

.module-item.completed i {
    color: #28a745;
}

.module-item.current i {
    color: #667eea;
}

.module-item.locked i {
    color: #999;
}

.module-item h4 {
    margin: 0 0 5px 0;
    flex: 1;
}

.module-item p {
    margin: 0;
    color: #666;
    font-size: 0.9rem;
}

/* Pastoral Support Styles */
.pastoral-support {
    margin-top: 20px;
}

.support-options {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

.support-card {
    padding: 25px;
    background: #f8f9fa;
    border-radius: 12px;
    text-align: center;
    border: 2px solid #e0e0e0;
    transition: all 0.3s ease;
}

.support-card:hover {
    border-color: #667eea;
    transform: translateY(-3px);
}

.support-card.emergency {
    border-color: #dc3545;
    background: #fff5f5;
}

.support-card.emergency:hover {
    border-color: #c82333;
}

.support-card i {
    font-size: 3rem;
    margin-bottom: 15px;
    color: #667eea;
}

.support-card.emergency i {
    color: #dc3545;
}

.support-card h3 {
    margin: 0 0 10px 0;
    color: #333;
}

.support-card p {
    margin: 0 0 20px 0;
    color: #666;
    font-size: 0.9rem;
}

.btn-danger {
    background: #dc3545;
    color: white;
}

.btn-danger:hover {
    background: #c82333;
}

.support-resources h3 {
    color: #667eea;
    margin-bottom: 15px;
}

.support-resources ul {
    list-style: none;
    padding: 0;
}

.support-resources li {
    margin: 10px 0;
}

.support-resources a {
    display: flex;
    align-items: center;
    gap: 10px;
    color: #667eea;
    text-decoration: none;
    padding: 10px;
    border-radius: 6px;
    transition: background 0.2s ease;
}

.support-resources a:hover {
    background: #f0f0f0;
}

/* Member Care Tools */
.member-care-tools {
    margin-top: 20px;
}

.care-dashboard {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 12px;
    margin-bottom: 25px;
}

.care-dashboard h3 {
    margin-top: 0;
    color: #333;
}

.care-stats {
    display: flex;
    justify-content: space-around;
    gap: 20px;
}

.care-stat {
    text-align: center;
}

.care-stat .stat-number {
    font-size: 2.5rem;
    font-weight: bold;
    color: #667eea;
    margin-bottom: 5px;
}

.care-stat .stat-label {
    color: #666;
    font-size: 0.9rem;
}

.care-tools-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
}

.care-tool {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    padding: 25px 20px;
    background: #f8f9fa;
    border: 2px solid #e0e0e0;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    text-align: center;
}

.care-tool:hover {
    border-color: #667eea;
    background: white;
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

.care-tool i {
    font-size: 2.5rem;
    color: #667eea;
}

.care-tool h4 {
    margin: 0;
    color: #333;
    font-size: 1.1rem;
}

.care-tool p {
    margin: 0;
    color: #666;
    font-size: 0.9rem;
}

/* Animations */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes slideIn {
    from { 
        opacity: 0; 
        transform: translateY(-50px); 
    }
    to { 
        opacity: 1; 
        transform: translateY(0); 
    }
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}

/* Responsive Design */
@media (max-width: 768px) {
    .dashboard-header {
        flex-direction: column;
        text-align: center;
        gap: 20px;
    }
    
    .dashboard-grid {
        grid-template-columns: 1fr;
        gap: 20px;
    }
    
    .stats-grid {
        grid-template-columns: 1fr;
        gap: 15px;
    }
    
    .cell-actions,
    .meeting-actions,
    .care-actions {
        flex-direction: column;
    }
    
    .leader-actions-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .form-row {
        grid-template-columns: 1fr;
        gap: 15px;
    }
    
    .info-grid {
        grid-template-columns: 1fr;
    }
    
    .attendance-stats {
        flex-direction: column;
        gap: 15px;
    }
    
    .care-stats {
        flex-direction: column;
        gap: 15px;
        text-align: center;
    }
    
    .support-options {
        grid-template-columns: 1fr;
    }
    
    .care-tools-grid {
        grid-template-columns: 1fr;
    }
    
    .announcement-header {
        flex-direction: column;
        gap: 10px;
    }
    
    .announcement-meta {
        flex-direction: column;
        gap: 10px;
        align-items: flex-start;
    }
    
    .profile-actions,
    .form-actions {
        flex-direction: column;
    }
}

@media (max-width: 480px) {
    .dashboard-main {
        padding: 15px;
    }
    
    .dashboard-card {
        padding: 20px;
    }
    
    .meeting-details {
        flex-direction: column;
        text-align: center;
    }
    
    .member-item {
        flex-direction: column;
        text-align: center;
    }
    
    .leader-actions-grid {
        grid-template-columns: 1fr;
    }
    
    .modal-content {
        margin: 20px;
        width: calc(100% - 40px);
    }
    
    .meeting-form-container,
    .member-profile-container,
    .resource-container {
        padding: 20px;
    }
}
</style>

</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Member Dashboard - Greater Glory Ministries</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

<header class="header">
    <nav class="navbar">
        <a href="../../index.html" class="logo">
            <img src="../../assets/logo.png" alt="Greater Glory Ministries Logo">
            <span class="logo-text">Greater Glory Ministries</span>
        </a>
        <ul class="nav-links">
            <li class="nav-item has-dropdown">
                <a href="../About.html">About Us</a>
                <ul class="dropdown">
                    <li><a href="../About.html#vision">Vision</a></li>
                    <li><a href="../About.html#mission">Mission</a></li>
                    <li><a href="../About.html#our-dna">Our DNA</a></li>
                    <li><a href="../About.html#what-we-believe">What We Believe</a></li>
                    <li><a href="../About.html#visionary">Visionary</a></li>
                </ul>
            </li>
            <li class="nav-item has-dropdown member-only">
                <a href="../ministries.html">Ministries</a>
                <ul class="dropdown">
                    <li><a href="../ministries.html#daughters">Daughters of Destiny</a></li>
                    <li><a href="../ministries.html#men">Men of Valour</a></li>
                    <li><a href="../ministries.html#impact">Impact Generation</a></li>
                    <li><a href="../ministries.html#haven">Haven</a></li>
                </ul>
            </li>
            <li class="nav-item has-dropdown member-only">
                <a href="../partner.html">Partner</a>
                <ul class="dropdown">
                    <li><a href="../partner.html">Partner with Us</a></li>
                </ul>
            </li>
            <li class="nav-item has-dropdown member-only">
                <a href="../serve.html">Serve</a>
                <ul class="dropdown">
                    <li><a href="../serve.html">Serve with Us</a></li>
                </ul>
            </li>
            <li class="nav-item media-link">
                <a href="../media.html">Media</a>
            </li>
            <li class="nav-item cta-give"><a href="../give.html">Give</a></li>
            
            <li class="nav-item auth-action" id="logoutNavItem"><a href="#" id="logoutBtn" onclick="handleLogout()">Logout</a></li>
        </ul>
        <div class="hamburger">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </div>
    </nav>
</header>

<main class="section dashboard-main">
    <div class="dashboard-header">
        <h1 class="page-title">Welcome, <span id="userName">Member</span>!</h1>
        <p class="section-description">Your personal dashboard for spiritual growth and ministry participation.</p>
    </div>

    <div class="dashboard-grid">
        <div class="dashboard-card stats-card">
            <h3><i class="fas fa-chart-line"></i> Your Journey</h3>
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-number">4</div>
                    <div class="stat-label">Months as Member</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">12</div>
                    <div class="stat-label">Services Attended</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">2</div>
                    <div class="stat-label">Ministries Joined</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">8</div>
                    <div class="stat-label">Cell Meetings</div>
                </div>
            </div>
        </div>

        <div class="dashboard-card cell-card">
            <h3><i class="fas fa-users"></i> My Cell Group</h3>
            <div class="cell-content">
                <div class="cell-info">
                    <div class="cell-name">
                        <h4>Cell Alpha</h4>
                        <span class="leader-name">Led by David Brown</span>
                    </div>
                    <div class="cell-details">
                        <p><i class="fas fa-calendar-alt"></i> Every Tuesday, 6:00 PM</p>
                        <p><i class="fas fa-map-marker-alt"></i> Highlands Community Center</p>
                        <p><i class="fas fa-book"></i> Topic: "Walking in Faith"</p>
                    </div>
                </div>
                <div class="cell-actions">
                    <button class="btn btn-primary" onclick="requestPrayer()">
                        <i class="fas fa-praying-hands"></i> Request Prayer
                    </button>
                    <button class="btn btn-outline" onclick="contactLeader()">
                        <i class="fas fa-phone"></i> Contact My Leader
                    </button>
                    <button class="btn btn-secondary" onclick="viewCellMembers()">
                        <i class="fas fa-user-friends"></i> View Members
                    </button>
                </div>
            </div>
        </div>

        <div class="dashboard-card announcements-card">
            <h3><i class="fas fa-bullhorn"></i> Latest Ministry Updates</h3>
            <div class="announcement-list">
                <div class="announcement-item">
                    <h4>Annual Church Picnic</h4>
                    <p>Join us on Saturday, September 15th, at the City Park for a day of fun, food, and fellowship!</p>
                    <small>Posted: August 20, 2025</small>
                </div>
                <div class="announcement-item">
                    <h4>New Sermon Series</h4>
                    <p>Starting this Sunday, we will begin a new sermon series on "The Power of Forgiveness."</p>
                    <small>Posted: August 18, 2025</small>
                </div>
                <div class="announcement-item">
                    <h4>Volunteers Needed</h4>
                    <p>We are looking for volunteers to assist with the upcoming community outreach event on October 1st.</p>
                    <small>Posted: August 15, 2025</small>
                </div>
            </div>
            <button class="btn btn-outline full-width" onclick="viewAllAnnouncements()">
                <i class="fas fa-list"></i> View All Announcements
            </button>
        </div>

        <div class="dashboard-card events-card">
            <h3><i class="fas fa-calendar-alt"></i> Upcoming Events</h3>
            <div class="events-list">
                <div class="event-item">
                    <div class="event-date">
                        <div class="day">25</div>
                        <div class="month">AUG</div>
                    </div>
                    <div class="event-info">
                        <h5>Sunday Service</h5>
                        <p><i class="fas fa-clock"></i> 9:00 AM & 11:00 AM</p>
                        <p><i class="fas fa-map-marker-alt"></i> Main Sanctuary</p>
                    </div>
                    <button class="btn btn-secondary" onclick="addToCalendar()">
                        <i class="fas fa-plus"></i> Add
                    </button>
                </div>
                <div class="event-item">
                    <div class="event-date">
                        <div class="day">27</div>
                        <div class="month">AUG</div>
                    </div>
                    <div class="event-info">
                        <h5>Weekly Cell Meeting</h5>
                        <p><i class="fas fa-clock"></i> 6:00 PM</p>
                        <p><i class="fas fa-map-marker-alt"></i> Highlands Community Center</p>
                    </div>
                    <button class="btn btn-secondary" onclick="addToCalendar()">
                        <i class="fas fa-plus"></i> Add
                    </button>
                </div>
                <div class="event-item">
                    <div class="event-date">
                        <div class="day">10</div>
                        <div class="month">SEP</div>
                    </div>
                    <div class="event-info">
                        <h5>Youth Ministry Hangout</h5>
                        <p><i class="fas fa-clock"></i> 5:00 PM</p>
                        <p><i class="fas fa-map-marker-alt"></i> Church Hall</p>
                    </div>
                    <button class="btn btn-secondary" onclick="addToCalendar()">
                        <i class="fas fa-plus"></i> Add
                    </button>
                </div>
            </div>
        </div>

        <div class="dashboard-card ministries-card">
            <h3><i class="fas fa-church"></i> My Ministries</h3>
            <div class="ministries-list">
                <div class="ministry-item">
                    <h4>Choir Ministry</h4>
                    <p>Serving in the Sunday praise and worship team.</p>
                    <div class="ministry-actions">
                        <button class="btn btn-outline">View Details</button>
                    </div>
                </div>
                <div class="ministry-item">
                    <h4>Ushering Team</h4>
                    <p>Welcoming and assisting members during services.</p>
                    <div class="ministry-actions">
                        <button class="btn btn-outline">View Details</button>
                    </div>
                </div>
            </div>
            <button class="btn btn-outline full-width" onclick="viewAllMinistries()">
                <i class="fas fa-plus"></i> Join a New Ministry
            </button>
        </div>

    </div>
</main>

<footer class="footer">
    <p>&copy; 2025 Greater Glory Ministries. All rights reserved.</p>
</footer>

<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
<script>
    // Replace with your Firebase project's config object
    const firebaseConfig = {
        // Your config here
    };

    // Initialize Firebase
    if (!firebase.apps.length) {
        firebase.initializeApp(firebaseConfig);
    }

    function handleLogout() {
        firebase.auth().signOut().then(() => {
            alert("You have been logged out.");
            window.location.href = "auth.html"; // Redirect to the login page
        }).catch((error) => {
            console.error("Logout Error:", error);
            alert("An error occurred during logout. Please try again.");
        });
    }
</script>

</body>
</html>

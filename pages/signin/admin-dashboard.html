<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Greater Glory Ministries</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        .dashboard-main {
            padding: 20px;
            max-width: 1600px;
            margin: 0 auto;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 25px;
            background: linear-gradient(135deg, #1f4287 0%, #002244 100%);
            border-radius: 15px;
            color: white;
            box-shadow: 0 10px 30px rgba(31, 66, 135, 0.3);
            position: relative;
            overflow: hidden;
        }

        .dashboard-header::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            animation: shimmer 6s ease-in-out infinite;
        }

        @keyframes shimmer {
            0%, 100% {
                transform: translateX(-100%) translateY(-100%) rotate(0deg);
            }
            50% {
                transform: translateX(-50%) translateY(-50%) rotate(180deg);
            }
        }

        .welcome-section h1 {
            margin: 0 0 10px 0;
            font-size: 2.8rem;
            font-weight: 700;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .greeting {
            font-size: 1.5rem;
            margin: 0 0 10px 0;
            opacity: 0.95;
            font-weight: 500;
        }

        .section-description {
            opacity: 0.9;
            margin: 0;
            font-size: 1.1rem;
            line-height: 1.4;
        }

        .admin-badge {
            display: flex;
            align-items: center;
            gap: 15px;
            background: rgba(255, 255, 255, 0.2);
            padding: 20px 30px;
            border-radius: 50px;
            backdrop-filter: blur(15px);
            font-weight: bold;
            font-size: 1.3rem;
            border: 2px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        .admin-badge i {
            font-size: 2rem;
            color: #3498db;
            filter: drop-shadow(0 0 15px rgba(52, 152, 219, 0.6));
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
        }

        .dashboard-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            border: 1px solid #e0e6ed;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .dashboard-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, #1f4287, #002244);
        }

        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }

        .dashboard-card h3 {
            margin-top: 0;
            margin-bottom: 25px;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 12px;
            border-bottom: 2px solid #ecf0f1;
            padding-bottom: 15px;
            font-size: 1.4rem;
            font-weight: 600;
        }

        .dashboard-card h3 i {
            color: #1f4287;
            font-size: 1.5em;
            filter: drop-shadow(0 2px 4px rgba(31, 66, 135, 0.3));
        }

        /* Leader Management */
        .leader-management-card h3 i {
            color: #3498db;
        }

        .leader-dashboard {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .leader-summary {
            display: flex;
            justify-content: space-between;
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .summary-item {
            text-align: center;
        }

        .summary-label {
            display: block;
            font-size: 0.9rem;
            color: #7f8c8d;
        }

        .summary-value {
            font-size: 2rem;
            font-weight: 700;
            color: #2c3e50;
            margin: 5px 0;
        }

        .summary-trend {
            font-size: 0.8rem;
            opacity: 0.8;
        }

        .summary-trend.positive {
            color: #2ecc71;
        }

        .leader-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .leader-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid #e0e6ed;
            background: #fafafa;
            transition: all 0.2s ease;
        }

        .leader-item:hover {
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            transform: translateY(-2px);
        }

        .leader-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #bdc3c7;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .leader-details {
            flex-grow: 1;
        }

        .leader-details h5 {
            margin: 0 0 5px 0;
            font-size: 1.1rem;
            color: #2c3e50;
        }

        .leader-details p {
            margin: 0;
            font-size: 0.9rem;
            color: #7f8c8d;
        }

        .leader-actions {
            display: flex;
            gap: 10px;
        }

        .leader-action-btn {
            background: #1f4287;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 50px;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }

        .leader-action-btn:hover {
            background-color: #002244;
        }

        .btn {
            padding: 12px 20px;
            border-radius: 50px;
            border: 2px solid;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
        }

        .btn-primary {
            background: #1f4287;
            color: white;
            border-color: #1f4287;
        }

        .btn-primary:hover {
            background: #002244;
            border-color: #002244;
        }

        .btn-secondary {
            background: #2ecc71;
            color: white;
            border-color: #2ecc71;
        }

        .btn-secondary:hover {
            background: #27ae60;
            border-color: #27ae60;
        }

        .btn-outline {
            background: transparent;
            color: #1f4287;
            border-color: #1f4287;
        }

        .btn-outline:hover {
            background: #1f4287;
            color: white;
        }

        /* Membership Management */
        .membership-management-card h3 i {
            color: #2ecc71;
        }

        .membership-dashboard {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .membership-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .member-stat-item {
            text-align: center;
            background: #f1f3f5;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }

        .member-stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .member-stat-label {
            font-size: 0.9rem;
            color: #7f8c8d;
        }

        .member-list-section {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .member-search {
            display: flex;
            gap: 10px;
        }

        .member-search input {
            flex-grow: 1;
            padding: 12px;
            border-radius: 50px;
            border: 1px solid #e0e6ed;
            font-size: 1rem;
        }

        .member-search button {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 50px;
            cursor: pointer;
        }

        .registration-list, .user-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .registration-item, .user-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            border-radius: 10px;
            background: #fafafa;
            border: 1px solid #e0e6ed;
        }

        .user-details, .registration-details {
            flex-grow: 1;
        }

        .user-details h5, .registration-details h5 {
            margin: 0 0 5px 0;
            font-size: 1.1rem;
        }

        .user-details p, .registration-details p {
            margin: 0;
            font-size: 0.9rem;
            color: #7f8c8d;
        }

        .registration-actions, .user-actions {
            display: flex;
            gap: 10px;
        }

        .approve-btn, .reject-btn {
            padding: 8px 15px;
            border-radius: 50px;
            border: none;
            color: white;
            font-weight: bold;
            cursor: pointer;
        }

        .approve-btn {
            background: #2ecc71;
        }

        .reject-btn {
            background: #e74c3c;
        }

        /* Financial Management */
        .financial-management-card h3 i {
            color: #f39c12;
        }

        .financial-dashboard {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .financial-summary {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .summary-stat-item {
            text-align: center;
        }

        .summary-stat-label {
            font-size: 0.9rem;
            color: #7f8c8d;
        }

        .summary-stat-value {
            font-size: 1.8rem;
            font-weight: 700;
            margin-top: 5px;
        }

        .income-value {
            color: #2ecc71;
        }

        .expense-value {
            color: #e74c3c;
        }

        .balance-value {
            color: #34495e;
        }

        .budget-overview {
            display: flex;
            align-items: center;
            gap: 15px;
            background: #f1f3f5;
            padding: 15px;
            border-radius: 10px;
        }

        .budget-progress {
            flex-grow: 1;
        }

        .budget-label {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: #7f8c8d;
        }

        .progress-bar-financial {
            height: 10px;
            background: #ecf0f1;
            border-radius: 5px;
            overflow: hidden;
            margin-top: 5px;
        }

        .progress-fill-financial {
            height: 100%;
            background: #f39c12;
        }

        .financial-actions-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        /* Communication & Media */
        .communication-card h3 i {
            color: #9b59b6;
        }

        .communication-dashboard {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .communication-tools {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .tool-item {
            background: #f1f3f5;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            transition: transform 0.2s ease;
        }

        .tool-item:hover {
            transform: translateY(-5px);
        }

        .tool-icon {
            font-size: 2.5rem;
            color: #9b59b6;
            margin-bottom: 10px;
        }

        .tool-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .tool-description {
            font-size: 0.9rem;
            color: #7f8c8d;
        }

        /* System & Security */
        .system-security-card h3 i {
            color: #e74c3c;
        }

        .system-dashboard {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .system-alerts {
            background: #fdeded;
            color: #c0392b;
            padding: 15px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: bold;
        }

        .system-actions-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }

        /* Utility classes */
        .mb-20 {
            margin-bottom: 20px;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
            padding-top: 60px;
        }

        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .close-btn {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close-btn:hover,
        .close-btn:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        .user-profile-container {
            padding: 20px;
            background: #fff;
            border-radius: 8px;
        }

        .profile-tabs {
            display: flex;
            border-bottom: 2px solid #ecf0f1;
            margin-bottom: 20px;
        }

        .profile-tab {
            background-color: transparent;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 1rem;
            color: #7f8c8d;
            border-bottom: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .profile-tab.active {
            color: #1f4287;
            border-bottom: 2px solid #1f4287;
            font-weight: bold;
        }

        .profile-content {
            display: none;
        }

        .profile-content.active {
            display: block;
        }

        .info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .info-item {
            display: flex;
            flex-direction: column;
        }

        .info-item label {
            font-weight: bold;
            color: #34495e;
            font-size: 0.9rem;
        }

        .info-item span {
            font-size: 1rem;
            color: #2c3e50;
            margin-top: 5px;
        }

        .performance-charts {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .chart-container {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }

        .chart-container h4 {
            margin-top: 0;
            color: #34495e;
        }

        .member-table {
            width: 100%;
            border-collapse: collapse;
        }

        .member-table th, .member-table td {
            border-bottom: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }

        .member-table th {
            background-color: #f1f3f5;
            font-weight: bold;
            color: #34495e;
        }

        .member-table tr:hover {
            background-color: #f5f5f5;
        }

        .member-table td:last-child {
            text-align: right;
        }

        .member-action-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>

<header class="header">
    <nav class="navbar">
        <a href="../../index.html" class="logo">
            <img src="../../assets/logo.png" alt="Greater Glory Ministries Logo">
            <span class="logo-text">Greater Glory Ministries</span>
        </a>
        <ul class="nav-links">
            <li class="nav-item has-dropdown">
                <a href="../About.html">About Us</a>
                <ul class="dropdown">
                    <li><a href="../About.html#vision">Vision</a></li>
                    <li><a href="../About.html#mission">Mission</a></li>
                    <li><a href="../About.html#our-dna">Our DNA</a></li>
                    <li><a href="../About.html#what-we-believe">What We Believe</a></li>
                    <li><a href="../About.html#visionary">Visionary</a></li>
                </ul>
            </li>
            <li class="nav-item has-dropdown member-only">
                <a href="../ministries.html">Ministries</a>
                <ul class="dropdown">
                    <li><a href="../ministries.html#daughters">Daughters of Destiny</a></li>
                    <li><a href="../ministries.html#men">Men of Valour</a></li>
                    <li><a href="../ministries.html#impact">Impact Generation</a></li>
                    <li><a href="../ministries.html#haven">Haven</a></li>
                </ul>
            </li>
            <li class="nav-item has-dropdown member-only">
                <a href="../partner.html">Partner</a>
                <ul class="dropdown">
                    <li><a href="../partner.html">Partner with Us</a></li>
                </ul>
            </li>
            <li class="nav-item has-dropdown member-only">
                <a href="../serve.html">Serve</a>
                <ul class="dropdown">
                    <li><a href="../serve.html">Serve with Us</a></li>
                </ul>
            </li>
            <li class="nav-item media-link">
                <a href="../media.html">Media</a>
            </li>
            <li class="nav-item cta-give"><a href="../give.html">Give</a></li>
            
            <li class="nav-item leader-only"><a href="leader-dashboard.html">Leader Portal</a></li>
            <li class="nav-item admin-only"><a href="admin-dashboard.html">Admin Portal</a></li>
            <li class="nav-item pastor-only"><a href="Pastor-dashboard.html">Pastor Portal</a></li>

            <li class="nav-item auth-action" style="display: none;"><a href="#" id="logoutBtn">Logout</a></li>
        </ul>
        <div class="hamburger">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </div>
    </nav>
</header>

<main class="section dashboard-main">
    <div class="dashboard-header">
        <div class="welcome-section">
            <h1 class="page-title">Admin Dashboard</h1>
            <p class="greeting">Welcome, <span id="adminName">Admin</span>! 🛡️</p>
            <p class="section-description">Manage ministry operations, user access, finances, and communications with precision and security.</p>
        </div>
        <div class="admin-badge">
            <i class="fas fa-shield-alt"></i>
            <span>Administrator</span>
        </div>
    </div>

    <div class="dashboard-grid">
        <div class="dashboard-card leader-management-card">
            <h3><i class="fas fa-users-cog"></i> Leader Management</h3>
            <div class="leader-dashboard">
                <div class="leader-summary">
                    <div class="summary-item">
                        <span class="summary-label">Total Leaders</span>
                        <span class="summary-value">18</span>
                        <span class="summary-trend positive">+2 new</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Active Leaders</span>
                        <span class="summary-value">16</span>
                        <span class="summary-trend">90% of total</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Leaders Online</span>
                        <span class="summary-value">4</span>
                        <span class="summary-trend">Now</span>
                    </div>
                </div>
                
                <div class="leader-list">
                    <h4>Current Leaders</h4>
                    <div class="leader-item">
                        <div class="leader-avatar">MS</div>
                        <div class="leader-details">
                            <h5>Michael Smith</h5>
                            <p>Cell Group Alpha Leader</p>
                        </div>
                        <div class="leader-actions">
                            <button class="leader-action-btn" onclick="viewLeaderProfile('Michael Smith')">
                                <i class="fas fa-eye"></i> View Profile
                            </button>
                            <button class="leader-action-btn" onclick="contactLeader('Michael Smith')">
                                <i class="fas fa-phone"></i> Contact
                            </button>
                        </div>
                    </div>
                    <div class="leader-item">
                        <div class="leader-avatar">JA</div>
                        <div class="leader-details">
                            <h5>Jane Adams</h5>
                            <p>Youth Ministry Co-Leader</p>
                        </div>
                        <div class="leader-actions">
                            <button class="leader-action-btn" onclick="viewLeaderProfile('Jane Adams')">
                                <i class="fas fa-eye"></i> View Profile
                            </button>
                            <button class="leader-action-btn" onclick="contactLeader('Jane Adams')">
                                <i class="fas fa-phone"></i> Contact
                            </button>
                        </div>
                    </div>
                </div>
                <button class="btn btn-primary" onclick="manageLeaders()">
                    <i class="fas fa-user-plus"></i> Add/Manage Leaders
                </button>
            </div>
        </div>

        <div class="dashboard-card membership-management-card">
            <h3><i class="fas fa-user-check"></i> Membership Management</h3>
            <div class="membership-dashboard">
                <div class="membership-stats">
                    <div class="member-stat-item">
                        <div class="member-stat-number">247</div>
                        <div class="member-stat-label">Total Members</div>
                    </div>
                    <div class="member-stat-item">
                        <div class="member-stat-number">5</div>
                        <div class="member-stat-label">New Registrations</div>
                    </div>
                </div>
                
                <div class="member-list-section">
                    <h4>Pending Registrations</h4>
                    <div class="registration-list">
                        <div class="registration-item">
                            <div class="registration-details">
                                <h5>Thabo Nkomo</h5>
                                <p>Requested access 2 days ago</p>
                            </div>
                            <div class="registration-actions">
                                <button class="approve-btn" onclick="approveRegistration('Thabo Nkomo')">
                                    <i class="fas fa-check"></i> Approve
                                </button>
                                <button class="reject-btn" onclick="rejectRegistration('Thabo Nkomo')">
                                    <i class="fas fa-times"></i> Reject
                                </button>
                            </div>
                        </div>
                        <div class="registration-item">
                            <div class="registration-details">
                                <h5>Nomusa Ndlovu</h5>
                                <p>Requested access 1 day ago</p>
                            </div>
                            <div class="registration-actions">
                                <button class="approve-btn" onclick="approveRegistration('Nomusa Ndlovu')">
                                    <i class="fas fa-check"></i> Approve
                                </button>
                                <button class="reject-btn" onclick="rejectRegistration('Nomusa Ndlovu')">
                                    <i class="fas fa-times"></i> Reject
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="member-list-section">
                    <h4>Find & Manage Members</h4>
                    <div class="user-list">
                        <div class="user-item">
                            <div class="user-details">
                                <h5>Sipho Khumalo</h5>
                                <p>Member since: Jan 2023</p>
                            </div>
                            <div class="user-actions">
                                <button class="member-action-btn" onclick="viewMemberProfile('Sipho Khumalo')">
                                    <i class="fas fa-eye"></i> View
                                </button>
                                <button class="member-action-btn" onclick="manageMemberPermissions('Sipho Khumalo')">
                                    <i class="fas fa-cog"></i> Manage
                                </button>
                            </div>
                        </div>
                    </div>
                    <button class="btn btn-primary" onclick="searchMembers()">
                        <i class="fas fa-search"></i> Advanced Member Search
                    </button>
                </div>
            </div>
        </div>

        <div class="dashboard-card financial-management-card">
            <h3><i class="fas fa-chart-line"></i> Financial Management</h3>
            <div class="financial-dashboard">
                <div class="financial-summary">
                    <div class="summary-stat-item">
                        <span class="summary-stat-label">Total Income (M-T-D)</span>
                        <span class="summary-stat-value income-value">R12,450</span>
                    </div>
                    <div class="summary-stat-item">
                        <span class="summary-stat-label">Total Expenses (M-T-D)</span>
                        <span class="summary-stat-value expense-value">R8,230</span>
                    </div>
                    <div class="summary-stat-item">
                        <span class="summary-stat-label">Net Balance</span>
                        <span class="summary-stat-value balance-value">R4,220</span>
                    </div>
                </div>
                
                <div class="budget-overview">
                    <i class="fas fa-chart-pie fa-2x"></i>
                    <div class="budget-progress">
                        <div class="budget-label">
                            <span>Budget Utilization:</span>
                            <span>75%</span>
                        </div>
                        <div class="progress-bar-financial">
                            <div class="progress-fill-financial" style="width: 75%;"></div>
                        </div>
                    </div>
                </div>
                
                <div class="financial-actions-grid">
                    <button class="btn btn-primary" onclick="viewDetailedReport()">
                        <i class="fas fa-file-invoice-dollar"></i> View Reports
                    </button>
                    <button class="btn btn-secondary" onclick="logNewTransaction()">
                        <i class="fas fa-plus"></i> Log Transaction
                    </button>
                    <button class="btn btn-primary" onclick="manageBudgets()">
                        <i class="fas fa-wallet"></i> Manage Budgets
                    </button>
                    <button class="btn btn-secondary" onclick="donationAnalytics()">
                        <i class="fas fa-chart-bar"></i> Donation Analytics
                    </button>
                </div>
            </div>
        </div>

        <div class="dashboard-card communication-card">
            <h3><i class="fas fa-bullhorn"></i> Communications & Media</h3>
            <div class="communication-dashboard">
                <div class="communication-tools">
                    <div class="tool-item" onclick="composeNewsletter()">
                        <div class="tool-icon"><i class="fas fa-envelope-open-text"></i></div>
                        <div class="tool-title">Newsletter</div>
                        <div class="tool-description">Compose and send weekly newsletters.</div>
                    </div>
                    <div class="tool-item" onclick="sendAnnouncement()">
                        <div class="tool-icon"><i class="fas fa-sms"></i></div>
                        <div class="tool-title">Mass SMS</div>
                        <div class="tool-description">Send text message announcements.</div>
                    </div>
                    <div class="tool-item" onclick="manageWebsiteContent()">
                        <div class="tool-icon"><i class="fas fa-globe"></i></div>
                        <div class="tool-title">Website Content</div>
                        <div class="tool-description">Update sermons, events, and news.</div>
                    </div>
                    <div class="tool-item" onclick="manageSocialMedia()">
                        <div class="tool-icon"><i class="fas fa-share-alt"></i></div>
                        <div class="tool-title">Social Media</div>
                        <div class="tool-description">Schedule posts and manage accounts.</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="dashboard-card system-security-card">
            <h3><i class="fas fa-shield-alt"></i> System & Security</h3>
            <div class="system-dashboard">
                <div class="system-alerts">
                    <i class="fas fa-exclamation-triangle"></i>
                    <span>2 Pending User Requests for elevated access.</span>
                </div>
                
                <div class="system-actions-grid">
                    <button class="btn btn-primary" onclick="reviewAccessLogs()">
                        <i class="fas fa-clipboard-list"></i> Review Access Logs
                    </button>
                    <button class="btn btn-primary" onclick="manageUserPermissions()">
                        <i class="fas fa-user-lock"></i> Manage Permissions
                    </button>
                    <button class="btn btn-primary" onclick="checkSystemStatus()">
                        <i class="fas fa-server"></i> System Status
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="userModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal('userModal')">&times;</span>
            <div id="userModalContent"></div>
        </div>
    </div>
</main>
<footer class="footer">
    <div class="container">
        <p>&copy; 2025 Greater Glory Ministries. All rights reserved.</p>
        <div class="social-links">
            <a href="https://www.facebook.com/greatergloryministries" target="_blank"><i class="fab fa-facebook-f"></i></a>
            <a href="https://www.twitter.com/greaterglorymin" target="_blank"><i class="fab fa-twitter"></i></a>
            <a href="https://www.youtube.com/channel/UCfW_b5j_5B5r_5c5r_5c5r_5c" target="_blank"><i class="fab fa-youtube"></i></a>
            <a href="https://www.instagram.com/greatergloryministries" target="_blank"><i class="fab fa-instagram"></i></a>
        </div>
    </div>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const hamburger = document.querySelector('.hamburger');
        const navLinks = document.querySelector('.nav-links');
        const dropdowns = document.querySelectorAll('.has-dropdown');
        const body = document.body;

        hamburger.addEventListener('click', () => {
            navLinks.classList.toggle('nav-active');
            hamburger.classList.toggle('active');
        });

        dropdowns.forEach(dropdown => {
            dropdown.addEventListener('click', (e) => {
                const subMenu = e.currentTarget.querySelector('.dropdown');
                if (subMenu) {
                    subMenu.classList.toggle('show');
                }
            });
        });
        
        // Hide mobile nav when a link is clicked
        navLinks.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                if (navLinks.classList.contains('nav-active')) {
                    navLinks.classList.remove('nav-active');
                    hamburger.classList.remove('active');
                }
            });
        });

        const authState = localStorage.getItem('mockAuth');
        const authAction = document.querySelector('.auth-action');
        const pastorLink = document.querySelector('.pastor-only');
        const adminLink = document.querySelector('.admin-only');
        const leaderLink = document.querySelector('.leader-only');
        const memberLinks = document.querySelectorAll('.member-only');
        const exclusiveSections = document.querySelectorAll('.pastor-exclusive');
        
        if (authState === 'pastor') {
            if (authAction) authAction.style.display = 'block';
            if (pastorLink) pastorLink.style.display = 'block';
            if (adminLink) adminLink.style.display = 'block';
            if (leaderLink) leaderLink.style.display = 'block';
            if (memberLinks) memberLinks.forEach(link => link.style.display = 'block');
            if (exclusiveSections) exclusiveSections.forEach(section => section.style.display = 'block');
        } else if (authState === 'admin') {
            if (authAction) authAction.style.display = 'block';
            if (adminLink) adminLink.style.display = 'block';
            if (leaderLink) leaderLink.style.display = 'block';
            if (memberLinks) memberLinks.forEach(link => link.style.display = 'block');
            if (exclusiveSections) exclusiveSections.forEach(section => section.style.display = 'none');
        } else if (authState === 'leader') {
            if (authAction) authAction.style.display = 'block';
            if (leaderLink) leaderLink.style.display = 'block';
            if (memberLinks) memberLinks.forEach(link => link.style.display = 'block');
            if (exclusiveSections) exclusiveSections.forEach(section => section.style.display = 'none');
        } else if (authState === 'member') {
            if (authAction) authAction.style.display = 'block';
            if (memberLinks) memberLinks.forEach(link => link.style.display = 'block');
            if (exclusiveSections) exclusiveSections.forEach(section => section.style.display = 'none');
        } else {
            if (authAction) authAction.style.display = 'none';
            if (pastorLink) pastorLink.style.display = 'none';
            if (adminLink) adminLink.style.display = 'none';
            if (leaderLink) leaderLink.style.display = 'none';
            if (memberLinks) memberLinks.forEach(link => link.style.display = 'none');
            if (exclusiveSections) exclusiveSections.forEach(section => section.style.display = 'none');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        function switchProfileTab(tabName) {
            document.querySelectorAll('.profile-tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.profile-content').forEach(content => content.classList.remove('active'));
            document.querySelector(`.profile-tab[onclick*='${tabName}']`).classList.add('active');
            document.getElementById(`${tabName}-content`).classList.add('active');
        }

        function handleLogout() {
            localStorage.removeItem('mockAuth');
            if (typeof firebase !== 'undefined' && firebase.auth) {
                firebase.auth().signOut();
            }
            window.location.href = '../../index.html';
        }

        // Initialize logout functionality
        document.addEventListener('DOMContentLoaded', () => {
            const logoutBtn = document.getElementById('logoutBtn');
            if (logoutBtn) {
                logoutBtn.style.display = 'inline-block';
                logoutBtn.addEventListener('click', handleLogout);
            }
        });
        
        // Close modals when clicking outside
        window.onclick = function(event) {
            const modals = ['userModal'];
            modals.forEach(modalId => {
                const modal = document.getElementById(modalId);
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
        }
        
        // Admin-specific functions
        function manageLeaders() {
            alert('Opening Leader Management System...');
        }
        
        function approveRegistration(name) {
            alert(`✅ Approved registration for ${name}. Account is now active!`);
        }
        
        function rejectRegistration(name) {
            alert(`❌ Rejected registration for ${name}. An email notification has been sent.`);
        }

        function searchMembers() {
            const query = prompt('Enter a name or email to search for a member:');
            if (query) {
                alert(`Searching for "${query}"...`);
            }
        }

        function viewMemberProfile(name) {
            alert(`Opening profile for ${name}...`);
        }

        function manageMemberPermissions(name) {
            alert(`Managing permissions for ${name}...`);
        }

        function viewDetailedReport() {
            alert('📊 Generating detailed financial report...');
        }
        
        function logNewTransaction() {
            const amount = prompt('Enter transaction amount:');
            if (amount) {
                alert(`Transaction of R${amount} logged successfully!`);
            }
        }
        
        function manageBudgets() {
            alert('Opening budget management tools...');
        }
        
        function donationAnalytics() {
            alert('Analyzing donation trends and patterns...');
        }

        function composeNewsletter() {
            alert('Opening Newsletter Composer...');
        }
        
        function sendAnnouncement() {
            const message = prompt('Enter your message for the mass SMS:');
            if (message) {
                alert(`Mass SMS with "${message}" sent successfully!`);
            }
        }
        
        function manageWebsiteContent() {
            alert('Opening Website Content Management System...');
        }
        
        function manageSocialMedia() {
            alert('Opening Social Media Scheduler...');
        }
        
        function reviewAccessLogs() {
            alert('Reviewing all system access logs...');
        }
        
        function manageUserPermissions() {
            alert('Opening User Permission Management interface...');
        }
        
        function checkSystemStatus() {
            alert('Running a system health check. All systems are operational.');
        }

        // Leader Management Functions
        function contactLeader(leaderName) {
            const contactMethod = confirm(`Contact ${leaderName}?\n\nClick OK to call, Cancel to send message.`);
            if (contactMethod) {
                alert(`📞 Calling ${leaderName}...`);
            } else {
                alert(`💬 Opening message interface for ${leaderName}...`);
            }
        }

        function viewLeaderProfile(leaderName) {
            const modalContent = document.getElementById('userModalContent');
            const modal = document.getElementById('userModal');
            
            modalContent.innerHTML = `
                <div class="leader-profile-container">
                    <h2><i class="fas fa-user-tie"></i> ${leaderName} - Leader Profile</h2>
                    
                    <div class="profile-tabs">
                        <button class="profile-tab active" onclick="switchProfileTab('overview')">Overview</button>
                        <button class="profile-tab" onclick="switchProfileTab('performance')">Performance</button>
                        <button class="profile-tab" onclick="switchProfileTab('members')">Members</button>
                        <button class="profile-tab" onclick="switchProfileTab('settings')">Settings</button>
                    </div>
                    
                    <div class="profile-content active" id="overview-content">
                        <div class="profile-sections">
                            <div class="profile-section">
                                <h3>Personal Information</h3>
                                <div class="info-grid">
                                    <div class="info-item">
                                        <label>Full Name:</label>
                                        <span>${leaderName}</span>
                                    </div>
                                    <div class="info-item">
                                        <label>Email:</label>
                                        <span>${leaderName.toLowerCase().replace(' ', '.')}@ggm.org</span>
                                    </div>
                                    <div class="info-item">
                                        <label>Phone:</label>
                                        <span>+263 77 123 4567</span>
                                    </div>
                                    <div class="info-item">
                                        <label>Joined GGM:</label>
                                        <span>March 2018</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="profile-section">
                                <h3>Ministry Role</h3>
                                <div class="info-grid">
                                    <div class="info-item">
                                        <label>Ministry:</label>
                                        <span>Cell Group Alpha</span>
                                    </div>
                                    <div class="info-item">
                                        <label>Role:</label>
                                        <span>Cell Leader</span>
                                    </div>
                                    <div class="info-item">
                                        <label>Team Members:</label>
                                        <span>12</span>
                                    </div>
                                    <div class="info-item">
                                        <label>Training:</label>
                                        <span>Advanced Leadership</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="profile-content" id="performance-content">
                        <h3>Performance & Metrics</h3>
                        <div class="performance-charts">
                            <div class="chart-container">
                                <h4>Attendance Trend</h4>
                                
                            </div>
                            <div class="chart-container">
                                <h4>Growth vs. Goal</h4>
                                
                            </div>
                        </div>
                    </div>
                    
                    <div class="profile-content" id="members-content">
                        <h3>Cell Group Members</h3>
                        <table class="member-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Status</th>
                                    <th>Last Contact</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Sam Dube</td>
                                    <td>Active</td>
                                    <td>3 days ago</td>
                                    <td><button class="member-action-btn">View</button></td>
                                </tr>
                                <tr>
                                    <td>Tandi Moyo</td>
                                    <td>Inactive</td>
                                    <td>2 weeks ago</td>
                                    <td><button class="member-action-btn">View</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="profile-content" id="settings-content">
                        <h3>User Settings</h3>
                        <div class="profile-section">
                            <h4>Account Information</h4>
                            <div class="info-grid">
                                <div class="info-item">
                                    <label>Access Level:</label>
                                    <span>Leader</span>
                                </div>
                                <div class="info-item">
                                    <label>Last Login:</label>
                                    <span>2 hours ago</span>
                                </div>
                            </div>
                            <button class="btn btn-primary" style="margin-top: 20px;">Change Password</button>
                            <button class="btn btn-primary" style="margin-top: 20px;">Edit Profile</button>
                        </div>
                    </div>
                </div>
            `;
            modal.style.display = 'block';
        }
    });
</script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment - Greater Glory Ministries</title>
    <link rel="stylesheet" href="../css/style.css">
</head>

<body>
    <header class="header">
        <nav class="navbar">
            <a href="../index.html" class="logo">
                <img src="../assets/logo.png" alt="Greater Glory Ministries Logo">
                <span class="logo-text">Greater Glory Ministries</span>
            </a>
        </nav>
    </header>

    <main class="centered-form-section">
        <div class="form-container">
            <div class="form-header">
                <h2>Complete Your Payment</h2>
                <p>Select your payment method and proceed with your giving</p>
            </div>

            <!-- Payment Form -->
            <form id="paymentForm" class="payment-form">
                <div class="form-group">
                    <label for="purpose">Purpose of Giving:</label>
                    <select id="purpose" name="purpose" required>
                        <option value="">Select purpose</option>
                        <option value="tithes">Tithes & Offerings</option>
                        <option value="partnership">Partnership</option>
                        <option value="projects">Special Projects</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="amount">Amount:</label>
                    <input type="number" id="amount" name="amount" placeholder="Enter amount" min="1" required>
                </div>

                <div class="form-group">
                    <label for="method">Payment Method:</label>
                    <select id="method" name="method" required>
                        <option value="">Select method</option>
                        <option value="card">Credit/Debit Card</option>
                        <option value="mobile">Mobile Money</option>
                        <option value="bank">Bank Transfer</option>
                    </select>
                </div>

                <div class="form-group">
                    <button type="submit" class="btn submit-btn">
                        <i class="fas fa-credit-card"></i>
                        Pay Now
                    </button>
                </div>
            </form>

            <div id="message" class="payment-message"></div>

            <div class="payment-security">
                <i class="fas fa-shield-alt"></i>
                <small>Your payment is secure and encrypted</small>
            </div>
        </div>
    </main>

    <script>
        // Get URL parameters to pre-select purpose
        const urlParams = new URLSearchParams(window.location.search);
        const type = urlParams.get('type');
        if (type) {
            document.getElementById('purpose').value = type;
        }

        // Mock payment process
        const form = document.getElementById('paymentForm');
        const message = document.getElementById('message');
        
        form.addEventListener('submit', function(e) {
            e.preventDefault();

            // Show processing state
            const submitBtn = document.querySelector('.submit-btn');
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
            submitBtn.disabled = true;
            
            message.innerHTML = '<div class="processing">Processing your payment...</div>';
            message.style.display = 'block';

            // Simulate payment delay
            setTimeout(() => {
                // Mock success, redirect to form.html with transaction ID
                const txId = Math.floor(Math.random() * 1000000000);
                const purpose = document.getElementById('purpose').value;
                const amount = document.getElementById('amount').value;
                
                window.location.href = `form.html?tx=${txId}&purpose=${purpose}&amount=${amount}`;
            }, 2500);
        });
    </script>
</body>
</html>
